WCHAT 웹채팅 시스템 개발 상세 구현

https://gemini.google.com/app/c7a9ddafb51f25c2


gradle 8.10, sts4, spring boot 3.4.1, redis, websocket, stompjs, java 17 환경에서 웹채팅 시스템(WCHAT)을 개발하고자 하며 요구하는 상세 사항은 아래 같습니다.
. project 명은 wchat입니다.
. Redis의 Pub/Sub 기능을 연동하여 성능을 고려하여 구현해주고 WCHAT 시스템의 소스코드에서 사용하는 채널, 토픽, 메시지에 대한 설명도 상세히 넣어주세요
. Redis 설치와 관련된 내용은 설명해주지 마세요
. 고객이나 봇, 상담사가 Publish 한 내용은 Redis의 client를 통해 모니터링 할 수 있다.
. 고객과 상담사는 웹브라우저를 통해 ID를 입력하여 웹채팅 시스템에 로그인한다.
. 고객이 상담사와 채팅 연결을 원하면 상담사 연결 버튼을 클릭한다.
. 고객이 상담사 연결 요청 시 대기중 상태인 상담사에게 고객 연결 요청 알림이 들어온다.
. 상담사가 고객의 상담사 연결 요청에 수락하면 상담사와 고객간의 채팅이 이루어진다.
. 상담사가 고객과 채팅 중 고객이 다시 bot으로부터 응답을 받을 수 있도록 전환할 수 있는 기능을 제공한다.
. 웹채팅시스템은 상담사의 채팅화면(agent.html)과 고객의 채팅화면(custom.html)을 제공한다.
. 상담사는 웹채팅 시스템에서 로그인한 고객의 목록을 확인할 수 있다.
. 시스템 관리자는 웹채팅시스템에 연결중인 모든 사용자에게 임의의 메시지를 전송할 수 있다.
. 상담사, 고객 웹채팅화면은 html로 작성하고, 채팅은 Websocket으로 구현하며, 데이터 형식은 JSON으로 한다.
. 고객이 문의한 내용은 WCHAT 시스템이 받아서 bot 시스템에 api로 전달한다.
. bot 시스템은 타 서버에서 이미 제공되고 있고 bot 시스템이 처리 결과를 웹채팅 시스템에서 제공하는 api를 호출하여 비동기적으로 회신을 합니다.
. 대응은 먼저 bot이 먼저 응대한다. 즉 고객이 채팅으로 문의하면 먼저 BOT이 고객 채팅 내용에 대해 해석 후 응대한다.
. 고객은 bot 시스템의 답변이 만족하지 못할 경우 상담사 연결을 요청하고, 어떤 상담사라도 고객이 상담사 연결을 요청하면 알 수 있다.
. 고객이 상담사 연결을 요청할 때 어떤 상담사가 이를 수락하면 이때부터는 고객 채팅은 상담사가 bot에 이어서 계속 채팅할 수 있도록 한다.
. spring boot에서 실행하는 Main Application용 java 파일도 필요하다.
. 위 시스템에 필요한 모든 소스코드에 상세한 주석 및 폴더와 파일구조도 필요하다.
. 소스코드를 만들어 줄 때 build.gradle, application.yml, java, html 등의 전체 경로, 특히 java일 경우 package 및 import 구문등도 생략하지 않고 알려 줄 것
위 요구사항을 만족시키는 전체 소스코드 및 충분한 설명을 포함하여 보여주세요


실습
